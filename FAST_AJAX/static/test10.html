<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
#it{
	width: 30px;
}
</style>
<script type="text/javascript">
// var com = "123";

setCom();

function myclick(){
	var str_old = document.querySelector("#ta");
	var mine = document.querySelector("#it");
	
	var s = getStrike(com, mine.value);
// 	console.log(s)
	var b = getBall(com, mine.value);
	
	var str_new = mine.value + " " + s + "S "+ b + "B\n";
	
	str_old.value = str_old.value + str_new;
	mine.value = "";
	
	if(s == 3){
		alert(mine.value + " 끝!!!!!");
	}
	
}

function getStrike(com, mine){
	cnt = 0;
	
	var c1 = com.substring(0,1);
	var c2 = com.substring(1,2);
	var c3 = com.substring(2,3);

	var m1 = mine.substring(0,1);
	var m2 = mine.substring(1,2);
	var m3 = mine.substring(2,3);
	
	if(c1 == m1){ cnt++; }
	if(c2 == m2){ cnt++; }
	if(c3 == m3){ cnt++; }
	
	return cnt;
	
}

function getBall(com, mine){
	cnt = 0;
	
	var c1 = com.substring(0,1);
	var c2 = com.substring(1,2);
	var c3 = com.substring(2,3);

	var m1 = mine.substring(0,1);
	var m2 = mine.substring(1,2);
	var m3 = mine.substring(2,3);
	
	if(c1 == m2 || c1 == m3){ cnt++; }
	if(c2 == m1 || c2 == m3){ cnt++; }
	if(c3 == m1 || c3 == m2){ cnt++; }
	
	return cnt;
	
}

function setCom(){
	arry9 = [1, 2, 3, 4, 5, 6, 7, 8, 9];
	
	for (var i = 0; i < 100; i++) {
		var rnd = Math.floor(Math.random()*9);

		var a = arry9[0];
		var b = arry9[rnd];
		arry9[0] = b;
		arry9[rnd] = a;
	}

	com = arry9[0] + "" + arry9[1] + "" + arry9[2];
	console.log("com " + com);
	
}
</script>
</head>
<body>
<table border="1">
	<tr>
		<td>스트라이크 : </td>
		<td>
			<input type="text" id="it" />
		</td>
	</tr>
	<tr>
		<td colspan="2">
			<input type="button" value="맞추기"  onclick="myclick()"/>
		</td>
	</tr>
	<tr>
		<td colspan="2">
			<textarea id="ta" rows="20" cols="20"></textarea>
		</td>
	</tr>
</table>


</body>
</html>